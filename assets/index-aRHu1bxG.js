var Lt=Object.defineProperty;var Wt=(e,t,i)=>t in e?Lt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var Pe=(e,t,i)=>(Wt(e,typeof t!="symbol"?t+"":t,i),i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function i(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=i(l);fetch(l.href,s)}})();function F(){}function Tt(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function bt(e){return e()}function Ke(){return Object.create(null)}function ae(e){e.forEach(bt)}function kt(e){return typeof e=="function"}function ue(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Ot(e){return Object.keys(e).length===0}function Fe(e){return e??""}function u(e,t){e.appendChild(t)}function A(e,t,i){e.insertBefore(t,i||null)}function N(e){e.parentNode&&e.parentNode.removeChild(e)}function pe(e,t){for(let i=0;i<e.length;i+=1)e[i]&&e[i].d(t)}function St(e){return document.createElement(e)}function p(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function T(e){return document.createTextNode(e)}function O(){return T(" ")}function ke(){return T("")}function x(e,t,i,r){return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)}function n(e,t,i){i==null?e.removeAttribute(t):e.getAttribute(t)!==i&&e.setAttribute(t,i)}function K(e,t,i){e.setAttributeNS("http://www.w3.org/1999/xlink",t,i)}function Bt(e){return Array.from(e.childNodes)}function ie(e,t){t=""+t,e.data!==t&&(e.data=t)}function Ct(e,t,{bubbles:i=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:i,cancelable:r})}let Le;function he(e){Le=e}function wt(){if(!Le)throw new Error("Function called outside component initialization");return Le}function Oe(){const e=wt();return(t,i,{cancelable:r=!1}={})=>{const l=e.$$.callbacks[t];if(l){const s=Ct(t,i,{cancelable:r});return l.slice().forEach(a=>{a.call(e,s)}),!s.defaultPrevented}return!0}}const Ne=[],Ye=[];let Ae=[];const Ze=[],Ft=Promise.resolve();let De=!1;function Et(){De||(De=!0,Ft.then(Ue))}function Ge(e){Ae.push(e)}const He=new Set;let ve=0;function Ue(){if(ve!==0)return;const e=Le;do{try{for(;ve<Ne.length;){const t=Ne[ve];ve++,he(t),xt(t.$$)}}catch(t){throw Ne.length=0,ve=0,t}for(he(null),Ne.length=0,ve=0;Ye.length;)Ye.pop()();for(let t=0;t<Ae.length;t+=1){const i=Ae[t];He.has(i)||(He.add(i),i())}Ae.length=0}while(Ne.length);for(;Ze.length;)Ze.pop()();De=!1,He.clear(),he(e)}function xt(e){if(e.fragment!==null){e.update(),ae(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ge)}}function Rt(e){const t=[],i=[];Ae.forEach(r=>e.indexOf(r)===-1?t.push(r):i.push(r)),i.forEach(r=>r()),Ae=t}const Ce=new Set;let ye;function We(){ye={r:0,c:[],p:ye}}function Te(){ye.r||ae(ye.c),ye=ye.p}function D(e,t){e&&e.i&&(Ce.delete(e),e.i(t))}function z(e,t,i,r){if(e&&e.o){if(Ce.has(e))return;Ce.add(e),ye.c.push(()=>{Ce.delete(e),r&&(i&&e.d(1),r())}),e.o(t)}else r&&r()}function Pt(e,t){const i=t.token={};function r(l,s,a,o){if(t.token!==i)return;t.resolved=o;let h=t.ctx;a!==void 0&&(h=h.slice(),h[a]=o);const c=l&&(t.current=l)(h);let g=!1;t.block&&(t.blocks?t.blocks.forEach((f,m)=>{m!==s&&f&&(We(),z(f,1,1,()=>{t.blocks[m]===f&&(t.blocks[m]=null)}),Te())}):t.block.d(1),c.c(),D(c,1),c.m(t.mount(),t.anchor),g=!0),t.block=c,t.blocks&&(t.blocks[s]=c),g&&Ue()}if(Tt(e)){const l=wt();if(e.then(s=>{he(l),r(t.then,1,t.value,s),he(null)},s=>{if(he(l),r(t.catch,2,t.error,s),he(null),!t.hasCatch)throw s}),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}}function Ht(e,t,i){const r=t.slice(),{resolved:l}=e;e.current===e.then&&(r[e.value]=l),e.current===e.catch&&(r[e.error]=l),e.block.p(r,i)}function V(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function fe(e){e&&e.c()}function oe(e,t,i){const{fragment:r,after_update:l}=e.$$;r&&r.m(t,i),Ge(()=>{const s=e.$$.on_mount.map(bt).filter(kt);e.$$.on_destroy?e.$$.on_destroy.push(...s):ae(s),e.$$.on_mount=[]}),l.forEach(Ge)}function ce(e,t){const i=e.$$;i.fragment!==null&&(Rt(i.after_update),ae(i.on_destroy),i.fragment&&i.fragment.d(t),i.on_destroy=i.fragment=null,i.ctx=[])}function Dt(e,t){e.$$.dirty[0]===-1&&(Ne.push(e),Et(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function me(e,t,i,r,l,s,a=null,o=[-1]){const h=Le;he(e);const c=e.$$={fragment:null,ctx:[],props:s,update:F,not_equal:l,bound:Ke(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(h?h.$$.context:[])),callbacks:Ke(),dirty:o,skip_bound:!1,root:t.target||h.$$.root};a&&a(c.root);let g=!1;if(c.ctx=i?i(e,t.props||{},(f,m,...d)=>{const _=d.length?d[0]:m;return c.ctx&&l(c.ctx[f],c.ctx[f]=_)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](_),g&&Dt(e,f)),m}):[],c.update(),g=!0,ae(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const f=Bt(t.target);c.fragment&&c.fragment.l(f),f.forEach(N)}else c.fragment&&c.fragment.c();t.intro&&D(e.$$.fragment),oe(e,t.target,t.anchor),Ue()}he(h)}class ge{constructor(){Pe(this,"$$");Pe(this,"$$set")}$destroy(){ce(this,1),this.$destroy=F}$on(t,i){if(!kt(i))return F;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(i),()=>{const l=r.indexOf(i);l!==-1&&r.splice(l,1)}}$set(t){this.$$set&&!Ot(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Gt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Gt);const Ut="/dmwgc/assets/Benchidori-n4RXg8lo.jpg",jt="/dmwgc/assets/Chillchucks_Wife-Z0DXycrM.jpg",zt="/dmwgc/assets/Cithis-DHrl0prL.jpg",qt="/dmwgc/assets/Daya-dTfZdvZn.jpg",Kt="/dmwgc/assets/Dungeon_Dwellers-6lRSkuWX.jpg",Yt="/dmwgc/assets/Elven_Queen-dZS69lkp.jpg",Zt="/dmwgc/assets/Erique-llQEZPPe.jpg",Jt="/dmwgc/assets/Falin-WnOWjTZK.jpg",Qt="/dmwgc/assets/Flamela-ezCwjgyH.jpg",Xt="/dmwgc/assets/Fleki-0Ew3H-6j.jpg",Vt="/dmwgc/assets/Golden_Kingdom-sS00cCnW.jpg",en="/dmwgc/assets/Hien-OpQ-miqE.jpg",tn="/dmwgc/assets/Kiki-RB-1TSuo.jpg",nn="/dmwgc/assets/Leed-3NqcsME5.jpg",rn="/dmwgc/assets/Maizuru-GYb3xqLY.jpg",ln="/dmwgc/assets/Marcille-AtXsHK8d.jpg",sn="/dmwgc/assets/Marcilles_Mom-c38OE0X9.jpg",an="/dmwgc/assets/Milsiril-JqyP5kps.jpg",on="/dmwgc/assets/Misyl-cQmdTZhY.jpg",cn="/dmwgc/assets/Monster_Falin-VZhTmQZh.jpg",hn="/dmwgc/assets/Namari-BCNEoVMq.jpg",un="/dmwgc/assets/Otta-U2HjgDJ0.jpg",fn="/dmwgc/assets/Pattadol-c-XqPgpv.jpg",mn="/dmwgc/assets/Rin-RfwZ7A3C.jpg",gn="/dmwgc/assets/Tade-EC0lboRI.jpg",pn="/dmwgc/assets/The_Queens_Attendants-zkqeGrsV.jpg",dn="/dmwgc/assets/Unnamed_Adventurers-t7AZv4OH.jpg",_n="/dmwgc/assets/Unnamed_Canaries-6yv67kB8.jpg",we={Falin:{heightInMeters:1.7,gender:"WOMAN",baseWeight:152,party:"LAIOS",pictureLink:Jt,species:["TALLMAN"],immobilityBMI:130},Marcille:{heightInMeters:1.6,gender:"WOMAN",baseWeight:112,party:"LAIOS",pictureLink:ln,species:["ELF","TALLMAN"],immobilityBMI:120},Laios:{heightInMeters:1.85,gender:"MAN",baseWeight:196,party:"LAIOS",species:["TALLMAN"],immobilityBMI:200},Chillchuck:{heightInMeters:1.1,gender:"MAN",baseWeight:48,party:"LAIOS",species:["HALFFOOT"],displayName:"Chilchuck",immobilityBMI:110},Namari:{heightInMeters:1.3,gender:"WOMAN",baseWeight:127,party:"ADVENTURERS",pictureLink:hn,species:["DWARF"],immobilityBMI:210},Kiki:{heightInMeters:1.8,gender:"WOMAN",baseWeight:150,party:"ADVENTURERS",pictureLink:tn,species:["TALLMAN"],immobilityBMI:200},Kaka:{heightInMeters:1.9,gender:"MAN",baseWeight:183,party:"ADVENTURERS",species:["TALLMAN"],immobilityBMI:210},Benichidori:{heightInMeters:1.6,gender:"WOMAN",baseWeight:112,party:"SHUROS",pictureLink:Ut,species:["TALLMAN"],immobilityBMI:140},Maizuru:{heightInMeters:1.65,gender:"WOMAN",baseWeight:125,party:"SHUROS",pictureLink:rn,species:["TALLMAN"],immobilityBMI:120},Hien:{heightInMeters:1.7,gender:"WOMAN",baseWeight:155,party:"SHUROS",pictureLink:en,species:["TALLMAN"],immobilityBMI:180},Tade:{heightInMeters:1.95,gender:"WOMAN",baseWeight:235,party:"SHUROS",pictureLink:gn,species:["OGRE"],immobilityBMI:210},Shuro:{heightInMeters:1.8,gender:"MAN",baseWeight:165,party:"SHUROS",species:["TALLMAN"],immobilityBMI:210},Rin:{heightInMeters:1.65,gender:"WOMAN",baseWeight:110,party:"KABRUS",pictureLink:mn,species:["TALLMAN"],immobilityBMI:120},Daya:{heightInMeters:1.3,gender:"WOMAN",baseWeight:141,party:"KABRUS",pictureLink:qt,species:["DWARF"],immobilityBMI:190},Kabru:{heightInMeters:1.7,gender:"MAN",baseWeight:134,party:"KABRUS",species:["TALLMAN"],immobilityBMI:190},Kuro:{heightInMeters:1.45,gender:"MAN",baseWeight:110,party:"KABRUS",species:["KOBOLD"],immobilityBMI:120},Holm:{heightInMeters:1.4,gender:"MAN",baseWeight:90,party:"KABRUS",species:["GNOME"],immobilityBMI:120},Mickbell:{heightInMeters:1.05,gender:"MAN",baseWeight:44,party:"KABRUS",species:["HALFFOOT"],immobilityBMI:110},Pattadol:{heightInMeters:1.7,gender:"WOMAN",baseWeight:111,party:"MITHRUNS",pictureLink:fn,species:["ELF"],immobilityBMI:120},Cithis:{heightInMeters:1.65,gender:"WOMAN",baseWeight:119,party:"MITHRUNS",pictureLink:zt,species:["ELF"],immobilityBMI:120},Fleki:{heightInMeters:1.3,gender:"WOMAN",baseWeight:66,party:"MITHRUNS",pictureLink:Xt,species:["ELF"],immobilityBMI:110},Otta:{heightInMeters:1.3,gender:"WOMAN",baseWeight:75,party:"MITHRUNS",pictureLink:un,species:["ELF"],immobilityBMI:110},Mithrun:{heightInMeters:1.55,gender:"MAN",baseWeight:111,party:"MITHRUNS",species:["ELF"],immobilityBMI:120},Lycion:{heightInMeters:1.7,gender:"MAN",baseWeight:154,party:"MITHRUNS",species:["ELF"],immobilityBMI:140},Flamela:{heightInMeters:1.4,gender:"WOMAN",baseWeight:95,party:"FLAMELAS",pictureLink:Qt,species:["ELF"],immobilityBMI:120},Misyl:{heightInMeters:1.45,gender:"WOMAN",baseWeight:93,party:"FLAMELAS",pictureLink:on,species:["ELF"],immobilityBMI:130},Erique:{heightInMeters:1.5,gender:"WOMAN",baseWeight:110,party:"FLAMELAS",pictureLink:Zt,species:["ELF"],immobilityBMI:120},Unnamed_Elves:{heightInMeters:1.5,gender:"WOMAN",baseWeight:665,party:"FLAMELAS",numbers:7,pictureLink:_n,species:["ELF"],displayName:"Unnamed canaries",immobilityBMI:120},Queen:{heightInMeters:1.7,gender:"WOMAN",baseWeight:115,party:"OTHERS",pictureLink:Yt,species:["ELF"],displayName:"The Elven Queen",immobilityBMI:140},Milsiril:{heightInMeters:1.5,gender:"WOMAN",baseWeight:104,party:"OTHERS",pictureLink:an,species:["ELF"],immobilityBMI:140},Marcilles_Mom:{heightInMeters:1.55,gender:"WOMAN",baseWeight:110,party:"OTHERS",pictureLink:sn,species:["ELF"],displayName:"Marcille's Mom",immobilityBMI:120},Attendants:{heightInMeters:1.5,gender:"WOMAN",baseWeight:380,party:"OTHERS",numbers:4,pictureLink:pn,species:["ELF"],displayName:"Queen's Attendants",immobilityBMI:130},Leed:{heightInMeters:1.5,gender:"WOMAN",baseWeight:203,party:"DUNGEON",pictureLink:nn,species:["MONSTER"],immobilityBMI:215},Monster_Falin:{heightInMeters:1.7,gender:"YES",baseWeight:6080,party:"DUNGEON",pictureLink:cn,species:["MONSTER"],displayName:"Monster Falin",immobilityBMI:220},Zon:{heightInMeters:1.75,gender:"MAN",baseWeight:265,party:"DUNGEON",species:["MONSTER"],immobilityBMI:225},Thistle:{heightInMeters:1.3,gender:"MAN",baseWeight:63,party:"DUNGEON",species:["ELF"],immobilityBMI:110},Chillchuck_wife:{heightInMeters:1,baseWeight:42,displayName:"Chilchuck's wife",gender:"WOMAN",party:"OTHERS",pictureLink:jt,species:["HALFFOOT"],immobilityBMI:100},Dungeon_dwellers:{heightInMeters:1.55,baseWeight:555,numbers:5,gender:"WOMAN",party:"OTHERS",pictureLink:Kt,species:["TALLMAN"],immobilityBMI:130,displayName:"Dungeon Dwellers"},Golden_kingdom:{heightInMeters:1.5,baseWeight:475,numbers:5,gender:"WOMAN",party:"DUNGEON",pictureLink:Vt,species:["TALLMAN"],immobilityBMI:120,displayName:"the Golden Kingdom"},Unnamed_adventurers:{heightInMeters:1.65,baseWeight:650,numbers:5,gender:"WOMAN",party:"ADVENTURERS",pictureLink:dn,species:["TALLMAN"],immobilityBMI:150,displayName:"the unnamed adventurers"}};function X(e){return we[e]}function yn(){return Object.keys(we)}function Ee(){return Object.values(we).filter(e=>e.gender==="WOMAN").length}function Me(e){return we[e].party}function je(e){return Object.values(we).filter(t=>t.party===e).length}function bn(e){const t=Me(e);return Object.keys(we).filter(i=>we[i].party===t)}const kn="/dmwgc/assets/Dungeon-Jn7NGue9.jpg",wn="/dmwgc/assets/Flamelas_Canaries-EsxbtmzU.jpg",Mn="/dmwgc/assets/Adventurers-VthkzlMa.jpg",vn="/dmwgc/assets/Kabrus_Party-18NFI4tv.jpg",Nn="/dmwgc/assets/Laios_Party-pRG9VlXq.jpg",An="/dmwgc/assets/Mithruns_Party-dGWObryV.jpg",In="/dmwgc/assets/Other-palZctl9.jpg",$n="/dmwgc/assets/Shuros_Party-zc4BQUiy.jpg",Mt={DUNGEON:{displayName:"The Dungeon",color:"purple",pictureLink:kn},FLAMELAS:{displayName:"Flamela's Canaries",color:"green",pictureLink:wn},ADVENTURERS:{displayName:"Adventurers",color:"darkTeal",pictureLink:Mn},KABRUS:{displayName:"Kabru's Party",color:"blue",pictureLink:vn},LAIOS:{displayName:"Laios' Party",color:"orange",pictureLink:Nn},MITHRUNS:{displayName:"Mithrun's Canaries",color:"darkGreen",pictureLink:An},SHUROS:{displayName:"Shuro's Party",color:"red",pictureLink:$n},OTHERS:{displayName:"Other",color:"pink",pictureLink:In}};function ze(e){return Mt[e]}function Ln(){return Object.keys(Mt)}const Wn=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}),Tn=new Intl.NumberFormat("en-US",{maximumFractionDigits:1});function C(e){return Wn.format(e).replaceAll(",","")}function ne(e){return Tn.format(e).replaceAll(",","")}function On(e,t){return t*.453/e/e}function xe(e,t){return t*e*e/.453}function Ie(e){return e<18.5?"underweight":e<25?"normal":e<30?"overweight":e<40?"obese":e<50?"morbidly obese":e<80?"super morbidly obese":"super super morbidly obese"}function vt(e){const t=Math.round(e*100/2.54);return`${Math.floor(t/12)}'${t%12}"`}function Sn(e){const t={},i={DUNGEON:0,OTHERS:0,FLAMELAS:0,KABRUS:0,LAIOS:0,MITHRUNS:0,SHUROS:0,ADVENTURERS:0};let r=0;for(const l of e)t[l.character]||(t[l.character]=0),t[l.character]+=l.amount,i[Me(l.character)]+=l.amount,r+=l.amount;return yn().map(l=>{const s=t[l]||0,a=X(l);let o=a.baseWeight+s+i[a.party]/je(a.party);l==="Monster_Falin"&&(o+=r);const h=a.numbers||1,c=o/h,g=On(a.heightInMeters,c)/(l==="Monster_Falin"?40:1);return{name:l,totalDonatedAmount:s,groupWeight:o,weight:c,BMI:g,immobilityThreshold:xe(a.heightInMeters,a.immobilityBMI)}})}function Bn(e){const t={};for(const i of Ln())t[i]={name:i,totalDonatedAmount:0,weight:0};for(const i of e)t[Me(i.name)].totalDonatedAmount+=i.totalDonatedAmount,t[Me(i.name)].weight+=i.groupWeight;return Object.values(t)}function Cn(e,t){const i=[],r={},l=function(a){var o;return r[a]||((o=t.find(h=>h.name===a))==null?void 0:o.weight)},s=Math.min(4,e.length);for(let a=0;a<s;a++){const o=e[e.length-1-a],h={amount:o.amount,character:o.character,gains:[]};i.push(h);const c={},g=bn(o.character),f=je(Me(o.character)),m=X(o.character).numbers||1;c[o.character]=o.amount/m;for(let d of g){const _=X(d).numbers||1;c[d]=c[d]||0,c[d]+=o.amount/f/_}c.Monster_Falin=c.Monster_Falin||0,c.Monster_Falin+=o.amount;for(let d of Object.keys(c)){const _=l(d),b=_-c[d];h.gains.push({characterName:d,after:_,before:b}),r[d]=b}}return i}function te(e){return e.characters.find(t=>t.name==="Monster_Falin")}const le=100,se=220;function Fn(e,t,i){const r=En(e),l=r.map(c=>c.groupWeight).reduce((c,g)=>c+g,0),s=Pn(r),a=xn(e),o=Rn(e),h=Hn(t);return{characters:r,femaleCharacters:s,femaleGroupCharacters:a,femaleCharactersBMI:o,parties:h,viewPortHeight:le,viewPortWidth:se,totalWeight:l,donationLog:Cn(i,e),rawDonations:i}}function En(e){const t=Math.max(...e.filter(s=>X(s.name).gender==="WOMAN").map(s=>s.weight)),r=40*Math.min(...e.filter(s=>X(s.name).gender==="WOMAN").map(s=>s.weight)),l=95/(5*Ee()+1);return e.sort((s,a)=>s.weight-a.weight).map((s,a)=>{const o=4*l,h=s.weight/Math.min(r,t)*75,c=83-s.immobilityThreshold/Math.min(r,t)*75,g=83-h,f=X(s.name);return{...s,...f,height:h,width:o,x:2.5+l+5*l*a,y:g,immobilityThresholdY:c,picHeight:o*se/le,barGradient:Re(f.party)}})}function xn(e){const t=Math.max(...e.filter(s=>X(s.name).gender==="WOMAN").map(s=>s.groupWeight)),r=40*Math.min(...e.filter(s=>X(s.name).gender==="WOMAN").map(s=>s.groupWeight)),l=95/(5*Ee()+1);return e.sort((s,a)=>s.groupWeight-a.groupWeight).map((s,a)=>{const o=X(s.name),h=4*l,c=s.groupWeight/Math.min(r,t)*75,g=83-s.immobilityThreshold*(o.numbers||1)/Math.min(r,t)*75,f=83-c;return{...s,...o,height:c,width:h,x:2.5+l+5*l*a,y:f,immobilityThresholdY:g,picHeight:h*se/le,barGradient:Re(o.party)}}).filter(s=>s.gender==="WOMAN").map((s,a)=>({...s,x:2.5+l+5*l*a}))}function Rn(e){const t=Math.max(...e.filter(s=>X(s.name).gender==="WOMAN").map(s=>s.BMI)),r=40*Math.min(...e.filter(s=>X(s.name).gender==="WOMAN").map(s=>s.BMI)),l=95/(5*Ee()+1);return e.sort((s,a)=>s.BMI-a.BMI).map((s,a)=>{const o=X(s.name),h=4*l,c=s.BMI/Math.min(r,t)*75,g=83-c;return{...s,...o,height:c,width:h,x:2.5+l+5*l*a,y:g,immobilityThresholdY:0,picHeight:h*se/le,barGradient:Re(o.party)}}).filter(s=>s.gender==="WOMAN").map((s,a)=>({...s,x:2.5+l+5*l*a}))}function Pn(e){const t=95/(5*Ee()+1);return e.filter(i=>i.gender==="WOMAN").map((i,r)=>({...i,x:2.5+t+5*t*r}))}function Hn(e){const t=95/(5*e.length+1),i=Math.max(...e.map(a=>a.weight)),l=40*Math.min(...e.map(a=>a.weight)),s=4*t;return e.sort((a,o)=>a.weight-o.weight).map((a,o)=>{const h=a.weight/Math.min(l,i)*65,c=70-h,g=ze(a.name);return{...a,...g,height:h,width:s,x:2.5+t+5*t*o,y:c,picHeight:s*se/le,barGradient:Re(a.name)}})}function Re(e){return ze(e).color+"Gradient"}function Dn(e){let t,i,r,l,s,a,o,h;return{c(){t=p("text"),i=p("tspan"),r=T(e[2]),s=p("tspan"),a=T("lbs"),n(i,"class",l=Fe(e[2].length>3?"not-so-big":"big")+" svelte-1ubje8b"),n(s,"class","not-so-big svelte-1ubje8b"),n(t,"x",o=e[0].x+"%"),n(t,"y",h=e[0].y+e[0].height+"%"),n(t,"transform","translate(3, 25)")},m(c,g){A(c,t,g),u(t,i),u(i,r),u(t,s),u(s,a)},p(c,g){g&4&&ie(r,c[2]),g&4&&l!==(l=Fe(c[2].length>3?"not-so-big":"big")+" svelte-1ubje8b")&&n(i,"class",l),g&1&&o!==(o=c[0].x+"%")&&n(t,"x",o),g&1&&h!==(h=c[0].y+c[0].height+"%")&&n(t,"y",h)},d(c){c&&N(t)}}}function Gn(e){let t,i,r,l,s,a,o,h;return{c(){t=p("text"),i=p("tspan"),r=T(e[2]),s=p("tspan"),a=T("lbs"),n(i,"class",l=Fe(e[2].length>3?"very-small":"small")+" svelte-1ubje8b"),n(s,"class","very-small svelte-1ubje8b"),n(t,"x",o=e[0].x+"%"),n(t,"y",h=e[0].y+e[0].height+"%"),n(t,"transform","translate(0, 10)")},m(c,g){A(c,t,g),u(t,i),u(i,r),u(t,s),u(s,a)},p(c,g){g&4&&ie(r,c[2]),g&4&&l!==(l=Fe(c[2].length>3?"very-small":"small")+" svelte-1ubje8b")&&n(i,"class",l),g&1&&o!==(o=c[0].x+"%")&&n(t,"x",o),g&1&&h!==(h=c[0].y+c[0].height+"%")&&n(t,"y",h)},d(c){c&&N(t)}}}function Un(e){let t;function i(s,a){return s[1]?Gn:Dn}let r=i(e),l=r(e);return{c(){l.c(),t=ke()},m(s,a){l.m(s,a),A(s,t,a)},p(s,[a]){r===(r=i(s))&&l?l.p(s,a):(l.d(1),l=r(s),l&&(l.c(),l.m(t.parentNode,t)))},i:F,o:F,d(s){s&&N(t),l.d(s)}}}function jn(e,t,i){let r,{charViewModel:l}=t,{small:s}=t,{groupCharacters:a}=t;return e.$$set=o=>{"charViewModel"in o&&i(0,l=o.charViewModel),"small"in o&&i(1,s=o.small),"groupCharacters"in o&&i(3,a=o.groupCharacters)},e.$$.update=()=>{e.$$.dirty&9&&i(2,r=C(a?l.groupWeight:l.weight))},[l,s,r,a]}class Nt extends ge{constructor(t){super(),me(this,t,jn,Un,ue,{charViewModel:0,small:1,groupCharacters:3})}}const zn="/dmwgc/assets/Water_Can_Big_PNG-SFfGN0F_.png";function Je(e,t,i){const r=e.slice();return r[10]=t[i],r}function Qe(e){let t,i,r,l,s,a,o,h,c,g,f,m,d,_,b,y,I,w,$,k,W,v,M,L,P,R,S,ee,U,G,Y,B,E,Z,J,j;return{c(){t=p("text"),i=p("tspan"),r=T("Every 1$* contributed to the collage adds"),l=O(),s=p("tspan"),a=T("three pounds to the characters!"),o=O(),h=p("tspan"),c=T("*Canadian Dollars, so  US Dollars go further"),g=O(),f=p("tspan"),m=T("*"),d=O(),_=p("tspan"),b=T("1lb goes to the character you choose by commenting"),y=O(),I=p("tspan"),w=T("JUST their name with your contribution"),$=O(),k=p("tspan"),W=T("*"),v=O(),M=p("tspan"),L=T("1lb is split between them and their group"),P=O(),R=p("tspan"),S=T("*"),ee=O(),U=p("tspan"),G=T("1lb goes to monster Falin"),Y=O(),B=p("tspan"),E=p("a"),Z=T("Click here to fatten your favorite"),J=O(),j=p("image"),n(i,"text-anchor","middle"),n(s,"dy","3%"),n(s,"x","15%"),n(s,"text-anchor","middle"),n(h,"dy","2%"),n(h,"x","15%"),n(h,"text-anchor","middle"),n(h,"class","very-small svelte-dx5vqw"),n(f,"dy","4%"),n(f,"x","15%"),n(f,"text-anchor","middle"),n(f,"class","not-so-small svelte-dx5vqw"),n(_,"dy","1%"),n(_,"x","15%"),n(_,"text-anchor","middle"),n(I,"dy","3%"),n(I,"x","15%"),n(I,"text-anchor","middle"),n(k,"dy","4%"),n(k,"x","15%"),n(k,"text-anchor","middle"),n(k,"class","not-so-small svelte-dx5vqw"),n(M,"dy","1%"),n(M,"x","15%"),n(M,"text-anchor","middle"),n(R,"dy","4%"),n(R,"x","15%"),n(R,"text-anchor","middle"),n(R,"class","not-so-small svelte-dx5vqw"),n(U,"dy","1%"),n(U,"x","15%"),n(U,"text-anchor","middle"),n(E,"class","link-tree-link svelte-dx5vqw"),n(E,"href","https://linktr.ee/ebcart"),n(B,"dy","3%"),n(B,"x","15%"),n(B,"text-anchor","middle"),n(t,"x","15%"),n(t,"y","25%"),n(t,"class","small svelte-dx5vqw"),n(j,"x","16%"),n(j,"y","9%"),n(j,"height","12%"),K(j,"xlink:href",zn)},m(Q,H){A(Q,t,H),u(t,i),u(i,r),u(t,l),u(t,s),u(s,a),u(t,o),u(t,h),u(h,c),u(t,g),u(t,f),u(f,m),u(t,d),u(t,_),u(_,b),u(t,y),u(t,I),u(I,w),u(t,$),u(t,k),u(k,W),u(t,v),u(t,M),u(M,L),u(t,P),u(t,R),u(R,S),u(t,ee),u(t,U),u(U,G),u(t,Y),u(t,B),u(B,E),u(E,Z),A(Q,J,H),A(Q,j,H)},d(Q){Q&&(N(t),N(J),N(j))}}}function Xe(e){let t,i,r,l;return{c(){t=p("rect"),n(t,"x",i=e[10].x+"%"),n(t,"y",r=e[10].immobilityThresholdY+"%"),n(t,"width",l=e[10].width+"%"),n(t,"height","0.8%"),n(t,"rx","0.5px"),n(t,"ry","0.5px"),n(t,"stroke","white"),n(t,"stroke-width","0.4"),n(t,"stroke-linecap","round"),n(t,"fill","black")},m(s,a){A(s,t,a)},p(s,a){a&5&&i!==(i=s[10].x+"%")&&n(t,"x",i),a&5&&r!==(r=s[10].immobilityThresholdY+"%")&&n(t,"y",r),a&5&&l!==(l=s[10].width+"%")&&n(t,"width",l)},d(s){s&&N(t)}}}function Ve(e){let t,i,r,l,s,a,o,h,c,g,f,m,d,_,b,y,I,w,$=!e[1]&&Xe(e);function k(){return e[6](e[10])}function W(){return e[7](e[10])}function v(){return e[8](e[10])}return b=new Nt({props:{groupCharacters:e[2],charViewModel:e[10],small:!0}}),b.$on("click",v),{c(){$&&$.c(),t=O(),i=p("rect"),h=O(),c=p("image"),_=O(),fe(b.$$.fragment),n(i,"x",r=e[10].x+"%"),n(i,"y",l=e[10].y+"%"),n(i,"width",s=e[10].width+"%"),n(i,"height",a=e[10].height+"%"),n(i,"rx","0.5px"),n(i,"ry","0.5px"),n(i,"stroke","white"),n(i,"stroke-width","0.4"),n(i,"stroke-linecap","round"),n(i,"fill",o="url(#"+e[10].barGradient+")"),K(c,"xlink:href",g=e[10].pictureLink),n(c,"x",f=e[10].x+"%"),n(c,"y",m=e[10].y+e[10].height+1+"%"),n(c,"height",d=e[10].picHeight+"%"),n(c,"preserveAspectRatio","true")},m(M,L){$&&$.m(M,L),A(M,t,L),A(M,i,L),A(M,h,L),A(M,c,L),A(M,_,L),oe(b,M,L),y=!0,I||(w=[x(i,"click",k),x(c,"click",W)],I=!0)},p(M,L){e=M,e[1]?$&&($.d(1),$=null):$?$.p(e,L):($=Xe(e),$.c(),$.m(t.parentNode,t)),(!y||L&5&&r!==(r=e[10].x+"%"))&&n(i,"x",r),(!y||L&5&&l!==(l=e[10].y+"%"))&&n(i,"y",l),(!y||L&5&&s!==(s=e[10].width+"%"))&&n(i,"width",s),(!y||L&5&&a!==(a=e[10].height+"%"))&&n(i,"height",a),(!y||L&5&&o!==(o="url(#"+e[10].barGradient+")"))&&n(i,"fill",o),(!y||L&5&&g!==(g=e[10].pictureLink))&&K(c,"xlink:href",g),(!y||L&5&&f!==(f=e[10].x+"%"))&&n(c,"x",f),(!y||L&5&&m!==(m=e[10].y+e[10].height+1+"%"))&&n(c,"y",m),(!y||L&5&&d!==(d=e[10].picHeight+"%"))&&n(c,"height",d);const P={};L&4&&(P.groupCharacters=e[2]),L&5&&(P.charViewModel=e[10]),b.$set(P)},i(M){y||(D(b.$$.fragment,M),y=!0)},o(M){z(b.$$.fragment,M),y=!1},d(M){M&&(N(t),N(i),N(h),N(c),N(_)),$&&$.d(M),ce(b,M),I=!1,ae(w)}}}function qn(e){let t,i,r,l,s,a,o,h,c=C(te(e[0]).weight)+"",g,f,m,d,_,b,y,I,w=e[1]&&Qe(),$=V(e[2]?e[0].femaleGroupCharacters:e[0].femaleCharacters),k=[];for(let v=0;v<$.length;v+=1)k[v]=Ve(Je(e,$,v));const W=v=>z(k[v],1,1,()=>{k[v]=null});return{c(){w&&w.c(),t=O(),i=p("image"),a=O(),o=p("text"),h=p("tspan"),g=T(c),f=T("lbs"),d=O();for(let v=0;v<k.length;v+=1)k[v].c();_=ke(),K(i,"xlink:href",r=te(e[0]).pictureLink),n(i,"x","4%"),n(i,"y",l=5/e[0].viewPortHeight*e[0].viewPortWidth+"%"),n(i,"height",s=te(e[0]).picHeight*1.4+"%"),n(i,"preserveAspectRatio","true"),n(h,"class","small svelte-dx5vqw"),n(o,"x","4.8%"),n(o,"y",m=5/e[0].viewPortHeight*e[0].viewPortWidth+"%"),n(o,"transform","translate(10, 4)")},m(v,M){w&&w.m(v,M),A(v,t,M),A(v,i,M),A(v,a,M),A(v,o,M),u(o,h),u(h,g),u(h,f),A(v,d,M);for(let L=0;L<k.length;L+=1)k[L]&&k[L].m(v,M);A(v,_,M),b=!0,y||(I=[x(i,"click",e[4]),x(o,"click",e[5])],y=!0)},p(v,[M]){if(v[1]?w||(w=Qe(),w.c(),w.m(t.parentNode,t)):w&&(w.d(1),w=null),(!b||M&1&&r!==(r=te(v[0]).pictureLink))&&K(i,"xlink:href",r),(!b||M&1&&l!==(l=5/v[0].viewPortHeight*v[0].viewPortWidth+"%"))&&n(i,"y",l),(!b||M&1&&s!==(s=te(v[0]).picHeight*1.4+"%"))&&n(i,"height",s),(!b||M&1)&&c!==(c=C(te(v[0]).weight)+"")&&ie(g,c),(!b||M&1&&m!==(m=5/v[0].viewPortHeight*v[0].viewPortWidth+"%"))&&n(o,"y",m),M&15){$=V(v[2]?v[0].femaleGroupCharacters:v[0].femaleCharacters);let L;for(L=0;L<$.length;L+=1){const P=Je(v,$,L);k[L]?(k[L].p(P,M),D(k[L],1)):(k[L]=Ve(P),k[L].c(),D(k[L],1),k[L].m(_.parentNode,_))}for(We(),L=$.length;L<k.length;L+=1)W(L);Te()}},i(v){if(!b){for(let M=0;M<$.length;M+=1)D(k[M]);b=!0}},o(v){k=k.filter(Boolean);for(let M=0;M<k.length;M+=1)z(k[M]);b=!1},d(v){v&&(N(t),N(i),N(a),N(o),N(d),N(_)),w&&w.d(v),pe(k,v),y=!1,ae(I)}}}function Kn(e,t,i){let{viewModel:r}=t,{displayPromoText:l}=t,{groupCharacters:s}=t;const a=Oe();function o(d){a("selectcharacter",{characterName:d})}const h=()=>o("Monster_Falin"),c=()=>o("Monster_Falin"),g=d=>o(d.name),f=d=>o(d.name),m=d=>o(d.name);return e.$$set=d=>{"viewModel"in d&&i(0,r=d.viewModel),"displayPromoText"in d&&i(1,l=d.displayPromoText),"groupCharacters"in d&&i(2,s=d.groupCharacters)},[r,l,s,o,h,c,g,f,m]}class Yn extends ge{constructor(t){super(),me(this,t,Kn,qn,ue,{viewModel:0,displayPromoText:1,groupCharacters:2})}}function et(e,t,i){const r=e.slice();return r[1]=t[i],r}function tt(e){let t,i,r,l,s,a,o,h,c,g,f,m,d,_,b;return _=new Nt({props:{charViewModel:e[1],small:!1}}),{c(){t=p("rect"),o=O(),h=p("image"),d=O(),fe(_.$$.fragment),n(t,"x",i=e[1].x+"%"),n(t,"y",r=e[1].y+"%"),n(t,"width",l=e[1].width+"%"),n(t,"height",s=e[1].height+"%"),n(t,"rx","0.5px"),n(t,"ry","0.5px"),n(t,"stroke","white"),n(t,"stroke-width","0.4"),n(t,"stroke-linecap","round"),n(t,"fill",a="url(#"+e[1].barGradient+")"),K(h,"xlink:href",c=e[1].pictureLink),n(h,"x",g=e[1].x+"%"),n(h,"y",f=e[1].y+e[1].height+1+"%"),n(h,"height",m=e[1].picHeight+"%"),n(h,"preserveAspectRatio","true")},m(y,I){A(y,t,I),A(y,o,I),A(y,h,I),A(y,d,I),oe(_,y,I),b=!0},p(y,I){(!b||I&1&&i!==(i=y[1].x+"%"))&&n(t,"x",i),(!b||I&1&&r!==(r=y[1].y+"%"))&&n(t,"y",r),(!b||I&1&&l!==(l=y[1].width+"%"))&&n(t,"width",l),(!b||I&1&&s!==(s=y[1].height+"%"))&&n(t,"height",s),(!b||I&1&&a!==(a="url(#"+y[1].barGradient+")"))&&n(t,"fill",a),(!b||I&1&&c!==(c=y[1].pictureLink))&&K(h,"xlink:href",c),(!b||I&1&&g!==(g=y[1].x+"%"))&&n(h,"x",g),(!b||I&1&&f!==(f=y[1].y+y[1].height+1+"%"))&&n(h,"y",f),(!b||I&1&&m!==(m=y[1].picHeight+"%"))&&n(h,"height",m);const w={};I&1&&(w.charViewModel=y[1]),_.$set(w)},i(y){b||(D(_.$$.fragment,y),b=!0)},o(y){z(_.$$.fragment,y),b=!1},d(y){y&&(N(t),N(o),N(h),N(d)),ce(_,y)}}}function Zn(e){let t,i,r=V(e[0].parties),l=[];for(let a=0;a<r.length;a+=1)l[a]=tt(et(e,r,a));const s=a=>z(l[a],1,1,()=>{l[a]=null});return{c(){for(let a=0;a<l.length;a+=1)l[a].c();t=ke()},m(a,o){for(let h=0;h<l.length;h+=1)l[h]&&l[h].m(a,o);A(a,t,o),i=!0},p(a,[o]){if(o&1){r=V(a[0].parties);let h;for(h=0;h<r.length;h+=1){const c=et(a,r,h);l[h]?(l[h].p(c,o),D(l[h],1)):(l[h]=tt(c),l[h].c(),D(l[h],1),l[h].m(t.parentNode,t))}for(We(),h=r.length;h<l.length;h+=1)s(h);Te()}},i(a){if(!i){for(let o=0;o<r.length;o+=1)D(l[o]);i=!0}},o(a){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)z(l[o]);i=!1},d(a){a&&N(t),pe(l,a)}}}function Jn(e,t,i){let{viewModel:r}=t;return e.$$set=l=>{"viewModel"in l&&i(0,r=l.viewModel)},[r]}class Qn extends ge{constructor(t){super(),me(this,t,Jn,Zn,ue,{viewModel:0})}}const Be="/dmwgc/assets/corner-LhPWaTs7.svg",Xn="/dmwgc/assets/title-vpBJ14wl.jpg";function Vn(e){const t=[],i=e.split(`
`);for(const r of i){const l=ei(r);l&&t.push(l)}return t}function ei(e){const[t,i]=e.split("	");return!t||!i?null:{character:t,amount:parseInt(i)}}function qe(e){return e.flatMap(t=>Array(t.numbers||1).fill(t.weight)).sort((t,i)=>t-i)}function ti(e){return e.flatMap(t=>Array(t.numbers||1).fill(t.BMI)).sort((t,i)=>t-i)}function At(e,t){let i=0,r=0;for(;i<t;)i+=e[r++];return r-1}function ni(e){const t=e.reduce((s,a)=>s+a,0),i=e.length;let r=0,l=0;for(let s=0;s<i;s++){const a=e[s];l+=a;const o=t/i*(s+1);r+=o-l}return r*2/i/t}function nt(e,t){const i=t.characters.find(r=>r.name===e);return e==="Monster_Falin"?ri(i,t):i.numbers&&i.numbers>1?li(i):ii(i,t)}function ii(e,t){const i=[],r=e.gender==="MAN"?["He","Him","His"]:["She","Her","Her"];if(e.weight===e.baseWeight?i.push(`${e.displayName||e.name} still hasn't gained any weight, and weighs ${C(e.weight)}lbs.`):i.push(`${e.displayName||e.name} weighs ${C(e.weight)}lbs, up from ${C(e.baseWeight)}lbs.`),i.push(`${r[0]}'s ${vt(e.heightInMeters)} tall.`,`That gives ${r[1].toLowerCase()} a BMI of ${ne(e.BMI)}, so ${r[0].toLowerCase()} is ${Ie(e.BMI)}.`,`If ${r[0].toLowerCase()} was 5'5", with constant BMI, ${r[0].toLowerCase()}'d weigh ${C(xe(1.651,e.BMI))}lbs.`),ai(e,t))i.push(`Except for monster Falin, ${r[0].toLowerCase()}'s the fattest character.`);else if(oi(e,t)){const f=ze(e.party);e.party==="DUNGEON"?i.push(`Except for monster Falin, ${r[0].toLowerCase()}'s the fattest among the Dungeon.`):i.push(`${r[0]}'s the fattest among ${f.displayName}.`)}const l=qe(t.characters),s=At(l,e.weight);s>1&&i.push(`${r[0]}'s heavier than the ${s} smallest characters combined.`);const a=te(t).weight,o=e.weight/t.totalWeight*100,h=e.weight/(t.totalWeight-a)*100;if(i.push(`She accounts for ${ne(o)}% of the total weight.`,`${ne(h)}% without monster Falin.`),It(e)){const f=e.baseWeight+e.totalDonatedAmount*be(e);i.push(`${r[0]} has received $${e.totalDonatedAmount} of donation.`,`Without party bonuses, ${r[0].toLowerCase()}'d weigh ${C(f)}lbs.`)}else i.push(`${r[0]} hasn't received any donation yet.`);const c=$e(e);if(c>1?i.push(`${r[0]}'s immobile, ${c} times over.`):c&&i.push(`${r[0]}'s immobile.`),i.push(`Donating $1 for ${r[1].toLowerCase()} will make ${r[1].toLowerCase()} put on ${new Intl.NumberFormat("en-US",{maximumFractionDigits:2}).format(be(e))}lbs.`),!$e(e)){const f=e.immobilityThreshold-e.weight,m=f/be(e);i.push(`Donate ${r[1].toLowerCase()} $${new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(Math.ceil(m))} to make ${r[1].toLowerCase()} gain ${C(f)}lbs and get immobile.`)}const g=ci(e,t);if(g){const f=it(e,g);i.push(`Donate ${r[1].toLowerCase()} $${new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(f)} to make ${r[1].toLowerCase()} outweigh ${g.displayName||g.name}.`)}else if(e.party==="DUNGEON")i.push(`${r[0].toLowerCase()} can't outgrow Monster Falin.`);else{const f=te(t),m=it(e,f);i.push(`Donate ${r[1].toLowerCase()} $${new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(m)} to make ${r[1].toLowerCase()} outweigh ${f.displayName||f.name}.`)}return i}function ri(e,t){const i=[];e.weight===e.baseWeight?i.push(`Monster Falin still hasn't gained any weight, and weighs ${C(e.weight)}lbs.`):i.push(`Monster Falin has gained ${C(e.weight-e.baseWeight)}lbs, and now weighs ${C(e.weight)}lbs.`),i.push(`Her normalized BMI is ${ne(e.BMI)}, so she is ${Ie(e.BMI)}.`,`If she was 5'5", with constant BMI, she'd weigh ${C(xe(1.651,e.BMI))}lbs.`);const r=qe(t.characters),l=At(r,e.weight);if(e.weight>t.totalWeight-e.weight?i.push("She's heavier than all the other characters, combined."):l>1&&i.push(`She's heavier than the ${l} smallest characters combined.`),It(e)){const s=e.weight-e.baseWeight,a=Math.round(e.totalDonatedAmount/s*100);i.push(`She has received $${e.totalDonatedAmount} of donation (${a}% of her gain).`)}else i.push("She hasn't received any donation yet.");return $e(e)&&i.push("She's immobile."),i.push(`She accounts for ${ne(e.weight/t.totalWeight*100)}% of the total weight.`,`Donating $1 for her will make her put on ${new Intl.NumberFormat("en-US",{maximumFractionDigits:2}).format(1+be(e))}lbs.`),i}function li(e,t){const i=[];if(e.weight===e.baseWeight?i.push(`${e.displayName||e.name} still haven't gained any weight, and weigh ${C(e.weight)}lbs each.`):i.push(`${e.displayName||e.name} each weigh ${C(e.weight)}lbs, a ${C(e.weight-e.baseWeight/e.numbers)}lbs gain.`),i.push(`Their total weight is ${C(e.groupWeight)}lbs.`,`They're on average ${vt(e.heightInMeters)} tall.`,`That gives them a BMI of ${ne(e.BMI)}, so they are ${Ie(e.BMI)}.`,`If they were 5'5", with constant BMI, they'd each weigh ${C(xe(1.651,e.BMI))}lbs.`),$e(e)&&i.push("They're immobile."),i.push(`Donating $1 for them will make each of them put on ${new Intl.NumberFormat("en-US",{maximumFractionDigits:2}).format(be(e))}lbs.`),!$e(e)){const r=e.immobilityThreshold-e.weight,l=r/be(e);i.push(`Donate them $${new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(Math.ceil(l))} to make them each gain ${C(r)}lbs and get immobile.`)}return i}function si(e){const t=te(e),i=e.characters.map(b=>b.baseWeight).reduce((b,y)=>b+y,0),r=t.baseWeight,l=qe(e.characters),s=e.rawDonations.map(b=>b.amount).reduce((b,y)=>b+y,0),a=e.characters.map(b=>b.BMI*(b.numbers||1)).reduce((b,y)=>b+y,0),o=a/l.length,h=e.totalWeight/l.length,c=(e.totalWeight-t.baseWeight)/(l.length-1),g=(a-t.BMI)/(l.length-1),f=rt(l),m=rt(ti(e.characters)),d=e.characters.filter(b=>!$e(b)).filter(b=>b.gender==="WOMAN").filter(b=>!b.numbers).map(b=>b.displayName||b.name),_=[`There are ${l.length} characters.`,`
`,`The total group weight is ${C(e.totalWeight)}lbs, up from ${C(i)}lbs.`,`Without Monster Falin, it's ${C(e.totalWeight-t.weight)}lbs, up from ${C(i-r)}lbs.`,`
`,`The average weight is ${C(h)}lbs, and the average BMI is ${ne(o)} (${Ie(o)}).`,`Without Monster Falin, it's ${C(c)}lbs, and a BMI of ${ne(g)} (${Ie(g)}).`,`The median weight is ${C(f)}lbs, and the median BMI is ${ne(m)} (${Ie(m)}).`,`
`,`The gini index for weights is ${Intl.NumberFormat("en-US",{maximumFractionDigits:2}).format(ni(l))} (0 is perfect equality).`,`There has been ${e.rawDonations.length} donations, for a total of $${s}.`,`
`];return d.length===0?_.push("All named women are now immobile."):d.length===1?_.push(`${d[0]} is the only named woman still mobile.`):_.push(`The following named women are still mobile: ${d.join(", ")}.`),_}function ai(e,t){const i=Math.max(...t.characters.filter(r=>r.name!=="Monster_Falin").map(r=>r.weight));return e.weight>=i}function oi(e,t){const i=Math.max(...t.characters.filter(r=>r.party===e.party).map(r=>r.weight));return e.weight>=i}function be(e){return(1+1/je(e.party))/(e.numbers||1)}function $e(e){return Math.floor(e.BMI/e.immobilityBMI)}function It(e){return e.totalDonatedAmount>0}function ci(e,t){for(let i=0;i<t.femaleCharacters.length-1;i++)if(t.femaleCharacters[i].name===e.name)return t.femaleCharacters[i+1];return null}function it(e,t){const i=Me(e.name),r=Me(t.name);return Math.ceil(i===r?t.weight-e.weight:(t.weight-e.weight)/be(e))}function rt(e){return e.length%2===1?e[Math.floor(e.length/2)]:Math.round((e[e.length/2-1]+e[e.length/2])/2)}function lt(e,t,i){const r=e.slice();return r[7]=t[i],r[9]=i,r}function hi(e){let t;return{c(){t=p("image"),K(t,"xlink:href",e[1].pictureLink),n(t,"x","10%"),n(t,"y","14.5%"),n(t,"height","25%"),n(t,"preserveAspectRatio","true")},m(i,r){A(i,t,r)},p:F,d(i){i&&N(t)}}}function st(e){let t,i=e[7]+"",r;return{c(){t=p("tspan"),r=T(i),n(t,"x",(e[9]<6&&e[1].pictureLink?23:10)+"%"),n(t,"dy","4.6%")},m(l,s){A(l,t,s),u(t,r)},p(l,s){s&1&&i!==(i=l[7]+"")&&ie(r,i)},d(l){l&&N(t)}}}function ui(e){let t,i,r,l,s,a,o,h,c,g,f,m,d,_,b,y,I,w=e[1].pictureLink&&hi(e),$=V(nt(e[1].name,e[0])),k=[];for(let W=0;W<$.length;W+=1)k[W]=st(lt(e,$,W));return{c(){t=p("rect"),i=O(),w&&w.c(),r=O(),l=p("text");for(let W=0;W<k.length;W+=1)k[W].c();s=O(),a=p("text"),o=p("a"),h=T("Click here to make a dono"),c=p("tspan"),g=T("(Only comment the character name)"),f=O(),m=p("rect"),d=O(),_=p("text"),b=T("close"),n(t,"x","8%"),n(t,"y","10%"),n(t,"width","84%"),n(t,"height","80%"),n(t,"rx","3px"),n(t,"ry","3px"),n(t,"stroke","#ae2f29"),n(t,"stroke-width","0.4"),n(t,"stroke-linecap","round"),n(t,"fill","#f9edd5"),n(l,"class","big svelte-ziftvx"),n(l,"y","13%"),n(o,"class","big link-tree-link svelte-ziftvx"),n(o,"href","https://linktr.ee/ebcart"),n(c,"x","50%"),n(c,"dy","4%"),n(c,"class","smallgrey svelte-ziftvx"),n(a,"x","50%"),n(a,"y","83.5%"),n(a,"text-anchor","middle"),n(m,"x","83.1%"),n(m,"y","83.5%"),n(m,"height","4.6%"),n(m,"width","8%"),n(m,"rx","1px"),n(m,"ry","1px"),n(m,"stroke","#ae2f29"),n(m,"stroke-width","0.4"),n(m,"stroke-linecap","round"),n(m,"fill","#f9edd5"),n(_,"x","84%"),n(_,"y","87%"),n(_,"class","close svelte-ziftvx")},m(W,v){A(W,t,v),A(W,i,v),w&&w.m(W,v),A(W,r,v),A(W,l,v);for(let M=0;M<k.length;M+=1)k[M]&&k[M].m(l,null);A(W,s,v),A(W,a,v),u(a,o),u(o,h),u(a,c),u(c,g),A(W,f,v),A(W,m,v),A(W,d,v),A(W,_,v),u(_,b),y||(I=[x(m,"click",e[4]),x(_,"click",e[5])],y=!0)},p(W,[v]){if(W[1].pictureLink&&w.p(W,v),v&3){$=V(nt(W[1].name,W[0]));let M;for(M=0;M<$.length;M+=1){const L=lt(W,$,M);k[M]?k[M].p(L,v):(k[M]=st(L),k[M].c(),k[M].m(l,null))}for(;M<k.length;M+=1)k[M].d(1);k.length=$.length}},i:F,o:F,d(W){W&&(N(t),N(i),N(r),N(l),N(s),N(a),N(f),N(m),N(d),N(_)),w&&w.d(W),pe(k,W),y=!1,ae(I)}}}function fi(e,t,i){const r=Oe();let{characterName:l}=t,{viewModel:s}=t,a=s.characters.find(g=>g.name===l);function o(){r("close",{})}const h=()=>o(),c=()=>o();return e.$$set=g=>{"characterName"in g&&i(3,l=g.characterName),"viewModel"in g&&i(0,s=g.viewModel)},[s,a,o,l,h,c]}class mi extends ge{constructor(t){super(),me(this,t,fi,ui,ue,{characterName:3,viewModel:0})}}function at(e,t,i){const r=e.slice();return r[6]=t[i],r[8]=i,r}function ot(e){let t,i=(e[6].displayName||e[6].name)+"",r,l,s,a=C(e[6].weight)+"",o,h,c=ne(e[6].BMI)+"",g,f=e[6].numbers?" (each)":"",m,d,_;function b(){return e[3](e[6])}function y(){return e[4](e[6])}return{c(){t=p("tspan"),r=T(i),l=O(),s=p("tspan"),o=T(a),h=T("lbs, BMI: "),g=T(c),m=T(f),n(t,"x",6+Math.floor(e[8]/10)*21+"%"),n(t,"y",17+8*(e[8]%10)+"%"),n(t,"class","not-so-small svelte-dx5vqw"),n(s,"x",6+Math.floor(e[8]/10)*21+"%"),n(s,"y",20+8*(e[8]%10)+"%"),n(s,"class","small svelte-dx5vqw")},m(I,w){A(I,t,w),u(t,r),A(I,l,w),A(I,s,w),u(s,o),u(s,h),u(s,g),u(s,m),d||(_=[x(t,"click",b),x(s,"click",y)],d=!0)},p(I,w){e=I},d(I){I&&(N(t),N(l),N(s)),d=!1,ae(_)}}}function gi(e){let t,i=V(e[1]),r=[];for(let l=0;l<i.length;l+=1)r[l]=ot(at(e,i,l));return{c(){t=p("text");for(let l=0;l<r.length;l+=1)r[l].c();n(t,"x","6%"),n(t,"y","15%")},m(l,s){A(l,t,s);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(t,null)},p(l,[s]){if(s&3){i=V(l[1]);let a;for(a=0;a<i.length;a+=1){const o=at(l,i,a);r[a]?r[a].p(o,s):(r[a]=ot(o),r[a].c(),r[a].m(t,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=i.length}},i:F,o:F,d(l){l&&N(t),pe(r,l)}}}function pi(e,t,i){let{viewModel:r}=t;const l=Oe();function s(c){l("selectcharacter",{characterName:c})}let a=[...r.characters].sort((c,g)=>(c.displayName||c.name).localeCompare(g.displayName||g.name));const o=c=>s(c.name),h=c=>s(c.name);return e.$$set=c=>{"viewModel"in c&&i(2,r=c.viewModel)},[s,a,r,o,h]}class di extends ge{constructor(t){super(),me(this,t,pi,gi,ue,{viewModel:2})}}function ct(e,t,i){const r=e.slice();return r[4]=t[i],r[6]=i,r}function ht(e,t,i){const r=e.slice();return r[7]=t[i],r[9]=i,r}function ut(e){let t,i=(X(e[7].characterName).displayName||e[7].characterName)+"",r,l,s,a=C(e[7].before)+"",o,h="<-",c,g=C(e[7].after)+"",f,m,d,_;return{c(){t=p("tspan"),r=T(i),l=T(": "),s=p("tspan"),o=T(a),c=T(h),f=T(g),m=p("tspan"),d=T("lbs"),_=O(),n(s,"class","grey svelte-1pzxc24"),n(m,"class","grey svelte-1pzxc24"),n(t,"x",6+e[9]%3*30+"%"),n(t,"y",e[1](e[6])+4+Math.floor(e[9]/3)*3+"%"),n(t,"class","not-so-small-but-still svelte-1pzxc24")},m(b,y){A(b,t,y),u(t,r),u(t,l),u(t,s),u(s,o),u(s,c),u(t,f),u(t,m),u(m,d),u(t,_)},p(b,y){y&1&&i!==(i=(X(b[7].characterName).displayName||b[7].characterName)+"")&&ie(r,i),y&1&&a!==(a=C(b[7].before)+"")&&ie(o,a),y&1&&g!==(g=C(b[7].after)+"")&&ie(f,g)},d(b){b&&N(t)}}}function ft(e){let t,i,r=e[4].amount+"",l,s,a=(X(e[4].character).displayName||e[4].character)+"",o,h,c,g=V(e[4].gains),f=[];for(let m=0;m<g.length;m+=1)f[m]=ut(ht(e,g,m));return{c(){t=p("tspan"),i=T("$"),l=T(r),s=T(" for "),o=T(a),h=O();for(let m=0;m<f.length;m+=1)f[m].c();c=ke(),n(t,"x","6%"),n(t,"y",e[1](e[6])+"%"),n(t,"class","not-so-small svelte-1pzxc24")},m(m,d){A(m,t,d),u(t,i),u(t,l),u(t,s),u(t,o),A(m,h,d);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(m,d);A(m,c,d)},p(m,d){if(d&1&&r!==(r=m[4].amount+"")&&ie(l,r),d&1&&a!==(a=(X(m[4].character).displayName||m[4].character)+"")&&ie(o,a),d&3){g=V(m[4].gains);let _;for(_=0;_<g.length;_+=1){const b=ht(m,g,_);f[_]?f[_].p(b,d):(f[_]=ut(b),f[_].c(),f[_].m(c.parentNode,c))}for(;_<f.length;_+=1)f[_].d(1);f.length=g.length}},d(m){m&&(N(t),N(h),N(c)),pe(f,m)}}}function _i(e){let t,i,r,l,s=V(e[0].donationLog),a=[];for(let o=0;o<s.length;o+=1)a[o]=ft(ct(e,s,o));return{c(){t=p("text");for(let o=0;o<a.length;o+=1)a[o].c();i=O(),r=p("text"),l=T("donations at the top are the most recent ones"),n(t,"x","6%"),n(t,"y","18%"),n(r,"text-anchor","middle"),n(r,"x","50%"),n(r,"y","95%"),n(r,"class","not-so-small grey svelte-1pzxc24")},m(o,h){A(o,t,h);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(t,null);A(o,i,h),A(o,r,h),u(r,l)},p(o,[h]){if(h&3){s=V(o[0].donationLog);let c;for(c=0;c<s.length;c+=1){const g=ct(o,s,c);a[c]?a[c].p(g,h):(a[c]=ft(g),a[c].c(),a[c].m(t,null))}for(;c<a.length;c+=1)a[c].d(1);a.length=s.length}},i:F,o:F,d(o){o&&(N(t),N(i),N(r)),pe(a,o)}}}function yi(e,t,i){let{viewModel:r}=t;Oe();function l(s){let a=18,o=0;for(;o<s;)o++,a+=12+Math.ceil(r.donationLog[o].gains.length/3)*3;return a}return e.$$set=s=>{"viewModel"in s&&i(0,r=s.viewModel)},[r,l]}class bi extends ge{constructor(t){super(),me(this,t,yi,_i,ue,{viewModel:0})}}function mt(e,t,i){const r=e.slice();return r[2]=t[i],r}function gt(e){let t,i=e[2]+"",r;return{c(){t=p("tspan"),r=T(i),n(t,"x","4.5%"),n(t,"dy","5%"),n(t,"class","not-so-small svelte-rqpzki")},m(l,s){A(l,t,s),u(t,r)},p:F,d(l){l&&N(t)}}}function ki(e){let t,i=V(e[0]),r=[];for(let l=0;l<i.length;l+=1)r[l]=gt(mt(e,i,l));return{c(){t=p("text");for(let l=0;l<r.length;l+=1)r[l].c();n(t,"x","6%"),n(t,"y","18%"),n(t,"class","not-so-small svelte-rqpzki")},m(l,s){A(l,t,s);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(t,null)},p(l,[s]){if(s&1){i=V(l[0]);let a;for(a=0;a<i.length;a+=1){const o=mt(l,i,a);r[a]?r[a].p(o,s):(r[a]=gt(o),r[a].c(),r[a].m(t,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=i.length}},i:F,o:F,d(l){l&&N(t),pe(r,l)}}}function wi(e,t,i){let{viewModel:r}=t,l=si(r);return e.$$set=s=>{"viewModel"in s&&i(1,r=s.viewModel)},[l,r]}class Mi extends ge{constructor(t){super(),me(this,t,wi,ki,ue,{viewModel:1})}}function pt(e,t,i){const r=e.slice();return r[8]=t[i],r}function dt(e){let t,i,r,l,s,a,o,h,c,g,f,m,d,_,b,y=ne(e[8].BMI)+"",I,w,$,k,W,v;function M(){return e[4](e[8])}function L(){return e[5](e[8])}function P(){return e[6](e[8])}return{c(){t=p("rect"),o=O(),h=p("image"),d=O(),_=p("text"),b=p("tspan"),I=T(y),w=O(),n(t,"x",i=e[8].x+"%"),n(t,"y",r=e[8].y+"%"),n(t,"width",l=e[8].width+"%"),n(t,"height",s=e[8].height+"%"),n(t,"rx","0.5px"),n(t,"ry","0.5px"),n(t,"stroke","white"),n(t,"stroke-width","0.4"),n(t,"stroke-linecap","round"),n(t,"fill",a="url(#"+e[8].barGradient+")"),K(h,"xlink:href",c=e[8].pictureLink),n(h,"x",g=e[8].x+"%"),n(h,"y",f=e[8].y+e[8].height+1+"%"),n(h,"height",m=e[8].picHeight+"%"),n(h,"preserveAspectRatio","true"),n(b,"class","small svelte-dx5vqw"),n(_,"x",$=e[8].x+"%"),n(_,"y",k=e[8].y+e[8].height+"%"),n(_,"transform","translate(0, 10)")},m(R,S){A(R,t,S),A(R,o,S),A(R,h,S),A(R,d,S),A(R,_,S),u(_,b),u(b,I),u(_,w),W||(v=[x(t,"click",M),x(h,"click",L),x(_,"click",P)],W=!0)},p(R,S){e=R,S&1&&i!==(i=e[8].x+"%")&&n(t,"x",i),S&1&&r!==(r=e[8].y+"%")&&n(t,"y",r),S&1&&l!==(l=e[8].width+"%")&&n(t,"width",l),S&1&&s!==(s=e[8].height+"%")&&n(t,"height",s),S&1&&a!==(a="url(#"+e[8].barGradient+")")&&n(t,"fill",a),S&1&&c!==(c=e[8].pictureLink)&&K(h,"xlink:href",c),S&1&&g!==(g=e[8].x+"%")&&n(h,"x",g),S&1&&f!==(f=e[8].y+e[8].height+1+"%")&&n(h,"y",f),S&1&&m!==(m=e[8].picHeight+"%")&&n(h,"height",m),S&1&&y!==(y=ne(e[8].BMI)+"")&&ie(I,y),S&1&&$!==($=e[8].x+"%")&&n(_,"x",$),S&1&&k!==(k=e[8].y+e[8].height+"%")&&n(_,"y",k)},d(R){R&&(N(t),N(o),N(h),N(d),N(_)),W=!1,ae(v)}}}function vi(e){let t,i,r,l,s,a,o,h,c=ne(te(e[0]).BMI)+"",g,f,m,d,_,b,y=V(e[0].femaleCharactersBMI),I=[];for(let w=0;w<y.length;w+=1)I[w]=dt(pt(e,y,w));return{c(){t=p("image"),s=O(),a=p("text"),o=p("tspan"),h=T("BMI: "),g=T(c),m=O();for(let w=0;w<I.length;w+=1)I[w].c();d=ke(),K(t,"xlink:href",i=te(e[0]).pictureLink),n(t,"x","4%"),n(t,"y",r=5/e[0].viewPortHeight*e[0].viewPortWidth+"%"),n(t,"height",l=te(e[0]).picHeight*1.4+"%"),n(t,"preserveAspectRatio","true"),n(o,"class","small svelte-dx5vqw"),n(a,"x","4.8%"),n(a,"y",f=5/e[0].viewPortHeight*e[0].viewPortWidth+"%"),n(a,"transform","translate(10, 4)")},m(w,$){A(w,t,$),A(w,s,$),A(w,a,$),u(a,o),u(o,h),u(o,g),A(w,m,$);for(let k=0;k<I.length;k+=1)I[k]&&I[k].m(w,$);A(w,d,$),_||(b=[x(t,"click",e[2]),x(a,"click",e[3])],_=!0)},p(w,[$]){if($&1&&i!==(i=te(w[0]).pictureLink)&&K(t,"xlink:href",i),$&1&&r!==(r=5/w[0].viewPortHeight*w[0].viewPortWidth+"%")&&n(t,"y",r),$&1&&l!==(l=te(w[0]).picHeight*1.4+"%")&&n(t,"height",l),$&1&&c!==(c=ne(te(w[0]).BMI)+"")&&ie(g,c),$&1&&f!==(f=5/w[0].viewPortHeight*w[0].viewPortWidth+"%")&&n(a,"y",f),$&3){y=V(w[0].femaleCharactersBMI);let k;for(k=0;k<y.length;k+=1){const W=pt(w,y,k);I[k]?I[k].p(W,$):(I[k]=dt(W),I[k].c(),I[k].m(d.parentNode,d))}for(;k<I.length;k+=1)I[k].d(1);I.length=y.length}},i:F,o:F,d(w){w&&(N(t),N(s),N(a),N(m),N(d)),pe(I,w),_=!1,ae(b)}}}function Ni(e,t,i){let{viewModel:r}=t;const l=Oe();function s(f){l("selectcharacter",{characterName:f})}const a=()=>s("Monster_Falin"),o=()=>s("Monster_Falin"),h=f=>s(f.name),c=f=>s(f.name),g=f=>s(f.name);return e.$$set=f=>{"viewModel"in f&&i(0,r=f.viewModel)},[r,s,a,o,h,c,g]}class Ai extends ge{constructor(t){super(),me(this,t,Ni,vi,ue,{viewModel:0})}}function Ii(e){let t,i,r=e[30]+"",l;return{c(){t=p("text"),i=T("Error: "),l=T(r),n(t,"x","50%"),n(t,"y","45%"),n(t,"class","menu svelte-mzsdvz"),n(t,"text-anchor","middle")},m(s,a){A(s,t,a),u(t,i),u(t,l)},p:F,i:F,o:F,d(s){s&&N(t)}}}function $i(e){let t,i,r,l,s,a,o=e[3]!=="MENU"&&_t(e);const h=[Ci,Bi,Si,Oi,Ti,Wi,Li],c=[];function g(m,d){return m[3]==="MENU"?0:m[3]==="CHARACTER_CHART"?1:m[3]==="PARTY_CHART"?2:m[3]==="CHARACTER_STATS"?3:m[3]==="REVERSE_DONATION_LOG"?4:m[3]==="GLOBAL_STATS"?5:m[3]==="CHARACTER_BMI"?6:-1}~(i=g(e))&&(r=c[i]=h[i](e));let f=!!e[0]&&yt(e);return{c(){o&&o.c(),t=ke(),r&&r.c(),l=p("image"),f&&f.c(),s=ke(),n(l,"x","25%"),n(l,"y","3%"),n(l,"width","50%"),K(l,"xlink:href",Xn)},m(m,d){o&&o.m(m,d),A(m,t,d),~i&&c[i].m(m,d),A(m,l,d),f&&f.m(m,d),A(m,s,d),a=!0},p(m,d){m[3]!=="MENU"?o?o.p(m,d):(o=_t(m),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null);let _=i;i=g(m),i===_?~i&&c[i].p(m,d):(r&&(We(),z(c[_],1,1,()=>{c[_]=null}),Te()),~i?(r=c[i],r?r.p(m,d):(r=c[i]=h[i](m),r.c()),D(r,1),r.m(l.parentNode,l)):r=null),m[0]?f?(f.p(m,d),d&1&&D(f,1)):(f=yt(m),f.c(),D(f,1),f.m(s.parentNode,s)):f&&(We(),z(f,1,1,()=>{f=null}),Te())},i(m){a||(D(r),D(f),a=!0)},o(m){z(r),z(f),a=!1},d(m){m&&(N(t),N(l),N(s)),o&&o.d(m),~i&&c[i].d(m),f&&f.d(m)}}}function _t(e){let t,i,r,l,s;return{c(){t=p("rect"),i=p("text"),r=T("Menu"),n(t,"x","4%"),n(t,"y","3.5%"),n(t,"height","4.6%"),n(t,"width","6%"),n(t,"rx","1px"),n(t,"ry","1px"),n(t,"stroke","#ae2f29"),n(t,"stroke-width","0.4"),n(t,"stroke-linecap","round"),n(t,"fill","#f9edd5"),n(i,"x","4.2%"),n(i,"y","7%"),n(i,"class","menu svelte-mzsdvz")},m(a,o){A(a,t,o),A(a,i,o),u(i,r),l||(s=x(i,"click",e[8]),l=!0)},p:F,d(a){a&&(N(t),N(i)),l=!1,s()}}}function Li(e){let t,i;return t=new Ai({props:{viewModel:e[29]}}),t.$on("selectcharacter",e[26]),{c(){fe(t.$$.fragment)},m(r,l){oe(t,r,l),i=!0},p:F,i(r){i||(D(t.$$.fragment,r),i=!0)},o(r){z(t.$$.fragment,r),i=!1},d(r){ce(t,r)}}}function Wi(e){let t,i;return t=new Mi({props:{viewModel:e[29]}}),{c(){fe(t.$$.fragment)},m(r,l){oe(t,r,l),i=!0},p:F,i(r){i||(D(t.$$.fragment,r),i=!0)},o(r){z(t.$$.fragment,r),i=!1},d(r){ce(t,r)}}}function Ti(e){let t,i;return t=new bi({props:{viewModel:e[29]}}),t.$on("selectcharacter",e[25]),{c(){fe(t.$$.fragment)},m(r,l){oe(t,r,l),i=!0},p:F,i(r){i||(D(t.$$.fragment,r),i=!0)},o(r){z(t.$$.fragment,r),i=!1},d(r){ce(t,r)}}}function Oi(e){let t,i;return t=new di({props:{viewModel:e[29]}}),t.$on("selectcharacter",e[24]),{c(){fe(t.$$.fragment)},m(r,l){oe(t,r,l),i=!0},p:F,i(r){i||(D(t.$$.fragment,r),i=!0)},o(r){z(t.$$.fragment,r),i=!1},d(r){ce(t,r)}}}function Si(e){let t,i;return t=new Qn({props:{viewModel:e[29]}}),{c(){fe(t.$$.fragment)},m(r,l){oe(t,r,l),i=!0},p:F,i(r){i||(D(t.$$.fragment,r),i=!0)},o(r){z(t.$$.fragment,r),i=!1},d(r){ce(t,r)}}}function Bi(e){let t,i;return t=new Yn({props:{viewModel:e[29],groupCharacters:e[2],displayPromoText:!e[1]}}),t.$on("selectcharacter",e[23]),{c(){fe(t.$$.fragment)},m(r,l){oe(t,r,l),i=!0},p(r,l){const s={};l&4&&(s.groupCharacters=r[2]),l&2&&(s.displayPromoText=!r[1]),t.$set(s)},i(r){i||(D(t.$$.fragment,r),i=!0)},o(r){z(t.$$.fragment,r),i=!1},d(r){ce(t,r)}}}function Ci(e){let t,i,r,l,s,a,o,h,c,g,f,m,d=e[1]?"ON":"OFF",_,b,y,I,w=e[2]?"ON":"OFF",$,k,W,v,M,L,P,R,S,ee,U,G,Y,B,E,Z,J,j,Q;return{c(){t=p("rect"),i=p("rect"),r=p("rect"),l=p("rect"),s=p("rect"),a=p("rect"),o=p("text"),h=p("tspan"),c=T("Character chart"),g=O(),f=p("tspan"),m=T("Immobility thresholds: "),_=T(d),b=O(),y=p("tspan"),I=T("Group unnamed characters: "),$=T(w),k=O(),W=p("tspan"),v=T("Party chart"),M=O(),L=p("tspan"),P=T("Character stats"),R=O(),S=p("tspan"),ee=T("Donation log"),U=O(),G=p("tspan"),Y=T("Global stats"),B=O(),E=p("tspan"),Z=T("BMI chart"),J=O(),n(t,"x","20%"),n(t,"y","16.5%"),n(t,"height","4.6%"),n(t,"width","22%"),n(t,"rx","1px"),n(t,"ry","1px"),n(t,"stroke","#ae2f29"),n(t,"stroke-width","0.4"),n(t,"stroke-linecap","round"),n(t,"fill","#f9edd5"),n(i,"x","20%"),n(i,"y","38.5%"),n(i,"height","4.6%"),n(i,"width","22%"),n(i,"rx","1px"),n(i,"ry","1px"),n(i,"stroke","#ae2f29"),n(i,"stroke-width","0.4"),n(i,"stroke-linecap","round"),n(i,"fill","#f9edd5"),n(r,"x","20%"),n(r,"y","48.5%"),n(r,"height","4.6%"),n(r,"width","22%"),n(r,"rx","1px"),n(r,"ry","1px"),n(r,"stroke","#ae2f29"),n(r,"stroke-width","0.4"),n(r,"stroke-linecap","round"),n(r,"fill","#f9edd5"),n(l,"x","20%"),n(l,"y","58.5%"),n(l,"height","4.6%"),n(l,"width","22%"),n(l,"rx","1px"),n(l,"ry","1px"),n(l,"stroke","#ae2f29"),n(l,"stroke-width","0.4"),n(l,"stroke-linecap","round"),n(l,"fill","#f9edd5"),n(s,"x","20%"),n(s,"y","68.5%"),n(s,"height","4.6%"),n(s,"width","22%"),n(s,"rx","1px"),n(s,"ry","1px"),n(s,"stroke","#ae2f29"),n(s,"stroke-width","0.4"),n(s,"stroke-linecap","round"),n(s,"fill","#f9edd5"),n(a,"x","20%"),n(a,"y","78.5%"),n(a,"height","4.6%"),n(a,"width","22%"),n(a,"rx","1px"),n(a,"ry","1px"),n(a,"stroke","#ae2f29"),n(a,"stroke-width","0.4"),n(a,"stroke-linecap","round"),n(a,"fill","#f9edd5"),n(h,"x","22%"),n(h,"dy","0%"),n(h,"class","menu svelte-mzsdvz"),n(f,"x","20%"),n(f,"dy","7%"),n(f,"class","menu svelte-mzsdvz"),n(y,"x","20%"),n(y,"dy","5%"),n(y,"class","menu svelte-mzsdvz"),n(W,"x","22%"),n(W,"dy","10%"),n(W,"class","menu svelte-mzsdvz"),n(L,"x","22%"),n(L,"dy","10%"),n(L,"class","menu svelte-mzsdvz"),n(S,"x","22%"),n(S,"dy","10%"),n(S,"class","menu svelte-mzsdvz"),n(G,"x","22%"),n(G,"dy","10%"),n(G,"class","menu svelte-mzsdvz"),n(E,"x","22%"),n(E,"dy","10%"),n(E,"class","menu svelte-mzsdvz"),n(o,"x","20%"),n(o,"y","20%")},m(H,q){A(H,t,q),A(H,i,q),A(H,r,q),A(H,l,q),A(H,s,q),A(H,a,q),A(H,o,q),u(o,h),u(h,c),u(o,g),u(o,f),u(f,m),u(f,_),u(o,b),u(o,y),u(y,I),u(y,$),u(o,k),u(o,W),u(W,v),u(o,M),u(o,L),u(L,P),u(o,R),u(o,S),u(S,ee),u(o,U),u(o,G),u(G,Y),u(o,B),u(o,E),u(E,Z),u(o,J),j||(Q=[x(t,"click",e[9]),x(i,"click",e[10]),x(r,"click",e[11]),x(l,"click",e[12]),x(s,"click",e[13]),x(a,"click",e[14]),x(h,"click",e[15]),x(f,"click",e[16]),x(y,"click",e[17]),x(W,"click",e[18]),x(L,"click",e[19]),x(S,"click",e[20]),x(G,"click",e[21]),x(E,"click",e[22])],j=!0)},p(H,q){q&2&&d!==(d=H[1]?"ON":"OFF")&&ie(_,d),q&4&&w!==(w=H[2]?"ON":"OFF")&&ie($,w)},i:F,o:F,d(H){H&&(N(t),N(i),N(r),N(l),N(s),N(a),N(o)),j=!1,ae(Q)}}}function yt(e){let t,i;return t=new mi({props:{viewModel:e[29],characterName:e[0]}}),t.$on("close",e[27]),{c(){fe(t.$$.fragment)},m(r,l){oe(t,r,l),i=!0},p(r,l){const s={};l&1&&(s.characterName=r[0]),t.$set(s)},i(r){i||(D(t.$$.fragment,r),i=!0)},o(r){z(t.$$.fragment,r),i=!1},d(r){ce(t,r)}}}function Fi(e){let t,i;return{c(){t=p("text"),i=T("Loading data..."),n(t,"x","50%"),n(t,"y","45%"),n(t,"class","menu svelte-mzsdvz"),n(t,"text-anchor","middle")},m(r,l){A(r,t,l),u(t,i)},p:F,i:F,o:F,d(r){r&&N(t)}}}function Ei(e){let t,i,r,l,s,a,o,h,c,g,f,m,d,_,b,y,I,w,$,k,W,v,M,L,P,R,S,ee,U,G,Y,B,E,Z,J,j,Q,H,q,Se,re={ctx:e,current:null,token:null,hasCatch:!0,pending:Fi,then:$i,catch:Ii,value:29,error:30,blocks:[,,,]};return Pt(e[4](),re),{c(){t=St("main"),i=p("svg"),r=p("defs"),l=p("linearGradient"),s=p("stop"),a=p("stop"),o=p("linearGradient"),h=p("stop"),c=p("stop"),g=p("linearGradient"),f=p("stop"),m=p("stop"),d=p("linearGradient"),_=p("stop"),b=p("stop"),y=p("linearGradient"),I=p("stop"),w=p("stop"),$=p("linearGradient"),k=p("stop"),W=p("stop"),v=p("linearGradient"),M=p("stop"),L=p("stop"),P=p("linearGradient"),R=p("stop"),S=p("stop"),re.block.c(),ee=p("image"),U=p("image"),G=p("image"),Y=p("image"),B=p("rect"),E=p("rect"),Z=p("rect"),J=p("rect"),j=p("rect"),Q=p("rect"),H=p("rect"),q=p("rect"),n(s,"offset","0%"),n(s,"stop-color","#8b4b22"),n(a,"offset","100%"),n(a,"stop-color","#edc051"),n(l,"id","orangeGradient"),n(l,"x1","0"),n(l,"x2","0"),n(l,"y1","1"),n(l,"y2","0"),n(h,"offset","0%"),n(h,"stop-color","#084c56"),n(c,"offset","100%"),n(c,"stop-color","#10a5ad"),n(o,"id","darkTealGradient"),n(o,"x1","0"),n(o,"x2","0"),n(o,"y1","1"),n(o,"y2","0"),n(f,"offset","0%"),n(f,"stop-color","#901e1d"),n(m,"offset","100%"),n(m,"stop-color","#da3a37"),n(g,"id","redGradient"),n(g,"x1","0"),n(g,"x2","0"),n(g,"y1","1"),n(g,"y2","0"),n(_,"offset","0%"),n(_,"stop-color","#3a447f"),n(b,"offset","100%"),n(b,"stop-color","#86a8e2"),n(d,"id","blueGradient"),n(d,"x1","0"),n(d,"x2","0"),n(d,"y1","1"),n(d,"y2","0"),n(I,"offset","0%"),n(I,"stop-color","#4525cb"),n(w,"offset","100%"),n(w,"stop-color","#9464b6"),n(y,"id","purpleGradient"),n(y,"x1","0"),n(y,"x2","0"),n(y,"y1","1"),n(y,"y2","0"),n(k,"offset","0%"),n(k,"stop-color","#0a4334"),n(W,"offset","100%"),n(W,"stop-color","#16a375"),n($,"id","darkGreenGradient"),n($,"x1","0"),n($,"x2","0"),n($,"y1","1"),n($,"y2","0"),n(M,"offset","0%"),n(M,"stop-color","#1e5119"),n(L,"offset","100%"),n(L,"stop-color","#41ba36"),n(v,"id","greenGradient"),n(v,"x1","0"),n(v,"x2","0"),n(v,"y1","1"),n(v,"y2","0"),n(R,"offset","0%"),n(R,"stop-color","#9d397b"),n(S,"offset","100%"),n(S,"stop-color","#ec61d4"),n(P,"id","pinkGradient"),n(P,"x1","0"),n(P,"x2","0"),n(P,"y1","1"),n(P,"y2","0"),n(ee,"x","0%"),n(ee,"y","0%"),n(ee,"height","8%"),K(ee,"xlink:href",Be),n(U,"x","0%"),n(U,"y","0%"),n(U,"height","8%"),K(U,"xlink:href",Be),n(U,"transform","scale(-1, 1)"),n(U,"transform-origin","center"),n(G,"x","0%"),n(G,"y","0%"),n(G,"height","8%"),K(G,"xlink:href",Be),n(G,"transform","scale(1, -1)"),n(G,"transform-origin","center"),n(Y,"x","0%"),n(Y,"y","0%"),n(Y,"height","8%"),K(Y,"xlink:href",Be),n(Y,"transform","scale(-1, -1)"),n(Y,"transform-origin","center"),n(B,"x",`${8*le/se-.2}%`),n(B,"y","0"),n(B,"height","1.4%"),n(B,"width",`${100-2*8*le/se+.4}%`),n(B,"fill","#ae2f29"),n(E,"x",`${8*le/se-.2}%`),n(E,"y","1.7%"),n(E,"height","0.75%"),n(E,"width",`${100-2*8*le/se+.4}%`),n(E,"fill","#ae2f29"),n(Z,"x","0%"),n(Z,"y","98.6%"),n(Z,"height","1.5%"),n(Z,"width","100%"),n(Z,"fill","#ae2f29"),n(J,"x",`${8*le/se-.2}%`),n(J,"y","97.55%"),n(J,"height","0.75%"),n(J,"width",`${100-2*8*le/se+.4}%`),n(J,"fill","#ae2f29"),n(j,"x","0%"),n(j,"y","7.8%"),n(j,"height","84.4%"),n(j,"width","0.65%"),n(j,"fill","#ae2f29"),n(Q,"x","0.8%"),n(Q,"y","7.8%"),n(Q,"height","84.4%"),n(Q,"width","0.4%"),n(Q,"fill","#ae2f29"),n(H,"x","99.35%"),n(H,"y","7.8%"),n(H,"height","84.4%"),n(H,"width","0.65%"),n(H,"fill","#ae2f29"),n(q,"x","98.8%"),n(q,"y","7.8%"),n(q,"height","84.4%"),n(q,"width","0.4%"),n(q,"fill","#ae2f29"),n(i,"viewBox","0 0 "+se+" "+le),n(i,"xmlns","http://www.w3.org/2000/svg"),n(i,"class","chart svelte-mzsdvz")},m(de,_e){A(de,t,_e),u(t,i),u(i,r),u(r,l),u(l,s),u(l,a),u(r,o),u(o,h),u(o,c),u(r,g),u(g,f),u(g,m),u(r,d),u(d,_),u(d,b),u(r,y),u(y,I),u(y,w),u(r,$),u($,k),u($,W),u(r,v),u(v,M),u(v,L),u(r,P),u(P,R),u(P,S),re.block.m(i,re.anchor=null),re.mount=()=>i,re.anchor=ee,u(i,ee),u(i,U),u(i,G),u(i,Y),u(i,B),u(i,E),u(i,Z),u(i,J),u(i,j),u(i,Q),u(i,H),u(i,q),Se=!0},p(de,[_e]){e=de,Ht(re,e,_e)},i(de){Se||(D(re.block),Se=!0)},o(de){for(let _e=0;_e<3;_e+=1){const $t=re.blocks[_e];z($t)}Se=!1},d(de){de&&N(t),re.block.d(),re.token=null,re=null}}}function xi(e,t,i){let r;async function l(){let B=await fetch("https://docs.google.com/spreadsheets/d/e/2PACX-1vShRwjPHvlfF_8R6YEjJ4LvbvJ8BOCn5r3HikzbXJhrJYklPAr19Ibbpmcb09wCg9Gr5_OhfX_F-1LS/pub?gid=0&single=true&output=tsv");const E=Vn(await B.text()),Z=Sn(E),J=Bn(Z);return f(),Fn(Z,J,E)}let s,a=!1,o=!1;function h(B){s||(i(3,r=B),g())}function c(B){i(0,s=B),g()}function g(){localStorage.setItem("dmwgc",JSON.stringify({displayImmobilityThresholds:a,selectedCharacterName:s,page:r,groupCharacters:o}))}function f(){const B=localStorage.getItem("dmwgc");if(!B)return;const E=JSON.parse(B);i(1,a=E.displayImmobilityThresholds),i(0,s=E.selectedCharacterName),i(3,r=E.page),i(2,o=E.groupCharacters)}const m=()=>h("MENU"),d=()=>h("CHARACTER_CHART"),_=()=>h("PARTY_CHART"),b=()=>h("CHARACTER_STATS"),y=()=>h("REVERSE_DONATION_LOG"),I=()=>h("GLOBAL_STATS"),w=()=>h("CHARACTER_BMI"),$=()=>h("CHARACTER_CHART"),k=()=>{i(1,a=!a),g()},W=()=>{i(2,o=!o),g()},v=()=>h("PARTY_CHART"),M=()=>h("CHARACTER_STATS"),L=()=>h("REVERSE_DONATION_LOG"),P=()=>h("GLOBAL_STATS"),R=()=>h("CHARACTER_BMI"),S=B=>c(B.detail.characterName),ee=B=>c(B.detail.characterName),U=B=>c(B.detail.characterName),G=B=>c(B.detail.characterName),Y=()=>{i(0,s=null),g()};return i(3,r="CHARACTER_CHART"),i(0,s=null),[s,a,o,r,l,h,c,g,m,d,_,b,y,I,w,$,k,W,v,M,L,P,R,S,ee,U,G,Y]}class Ri extends ge{constructor(t){super(),me(this,t,xi,Ei,ue,{})}}new Ri({target:document.getElementById("app")});
